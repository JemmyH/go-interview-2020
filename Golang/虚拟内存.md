ia当可执行程序被加载到内存中执行时，就成为一个进程。	

**内存隔离的必要性：**在DOS时期，采用的是实地址模式，进程直接使用物理地址。这种模式下，进程可以任意修改物理内存，很容易出现占用其他物理内存的情况，甚至可能会覆盖操作系统使用的内存。

**如何实现虚拟地址到物理地址的映射：**后来出现了“保护模式”，进程不直接使用物理内存，而使用虚拟的内存地址——这些地址被称为线性地址。操作系统负责把虚拟地址映射到物理地址。如何映射？首先，“保护模式”提供内存分页机制，如32位系统下，物理内存中每4K作为一页。从虚拟内存到物理内存，是以页为单位进行映射的；其次，操作系统会以链表的形式记录各个进程的信息，每个进程中都有一个指针，执行当前进程“页目录”的物理地址，页目录也是一个进程页，存储一系列指针，这些指针指向另一级的同样存储物理地址的起始地址的页表。这样就行成了“虚拟地址->一级页目录->二级页表->物理内存页”的映射关系。32位系统下，一个地址占4字节，一个一级页目录就可以寻址1024个二级页表，而每个二级页表又可以寻址1024个物理内存页，每个物理内存页占4KB，这样正好等于4GB。也就是说，32位系统下，只需要有这样的两级页表，就足够寻址4GB大小的物理内存空间了。在一个线性地址的32位中，前10位，寻址一级页表，再10位寻址二级页表，最后12位用来存储相对于内存页起始地址的偏移量，12位正好覆盖4K个偏移值，也就足够定位到这一页的每一个地址了。这样就实现了一个虚拟内存页到物理内存页的映射了。效果是：不仅在进程中没有直接使用物理地址，而且每一个进程都对应自己的页表，这样在不同的进程中，相同的线性地址也会被映射到不同的物理地址，从而实现进程地址空间的隔离；还可以通过“把同一物理页面映射到不同进程的页表中”，来实现进程间共享内存。

在二级页表中，前20位用来寻址一级页目录和二级页表，那剩下的后12位就没有用到，此时可以设置成标志位，比如标注 是否可读、是否可写、是否可执行，其中就有一个标注该物理内存页是否已经被映射。



虽然每个进程都有自己的虚拟地址空间，但是为了进一步保障系统运行安全，虚拟地址空间被划分为用户空间和内核空间。