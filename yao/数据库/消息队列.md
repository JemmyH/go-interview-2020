

[toc]

# 消息队列

## 消息队列的特性

异步、削峰、解耦



### 重复消费、消息丢失、顺序消费

### 重复消费

一般系统都有重试机制，所以对于系统来说一般会对接口做幂等性处理，就是说调用接口多次，得到的结果都是一样的，记录不会出现重复



### 消息丢失

[ TODO ]

### 顺序消费

[ TODO ]





## kafka 为什么存储这么大

kafka使用的是磁盘存储所以存储量达



## kafka 怎么实现顺序消费

[ TODO ]



## Kafka delivery guarantee

```
At most once 　　消息可能会丢，但绝不会重复传输

At least one 　　  消息绝不会丢，但可能会重复传输

Exactly once 　　 每条消息肯定会被传输一次且仅传输一次，很多时候这是用户所想要的。
```

Kafka默认保证At least once，并且允许通过设置Producer异步提交来实现At most once。而Exactly once要求与外部存储系统协作，幸运的是Kafka提供的offset可以非常直接非常容易得使用这种方式。

